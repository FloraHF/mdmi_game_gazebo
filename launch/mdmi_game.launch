<?xml version="1.0"?>
<launch>
  <!-- game settings-->
  <!-- <arg name="param_file" default="$(find mdmi_game)/param/game_param.yaml"/>    -->
  <!-- <arg command="load" file="$(find mdmi_game)/param/game_param.yaml"/> -->
  <arg name="r" value="0.5"/>
  <arg name="ni" value="3"/>
  <arg name="nd" value="2"/>
  <arg name="vi" value=".3"/>
  <arg name="vd" value=".5"/>
  <arg name="Rt" value="5."/>
  <arg name="Ro" value="5."/>

  <!-- initial locations -->
  <arg name="xi_0" value="1."/>
  <arg name="yi_0" value="1."/>

  <arg name="xi_1" value="1."/>
  <arg name="yi_1" value="2."/>

  <arg name="xi_2" value="1."/>
  <arg name="yi_2" value="3."/>

  <arg name="xd_0" value="2."/>
  <arg name="yd_0" value="1."/>

  <arg name="xd_1" value="2."/>
  <arg name="yd_1" value="4."/>

  <!-- data saving-->
  <arg name="res_id" default="0"/>
  <arg name="user_account" default="flora" />
  <arg name="csvFilesStoring" default="true" />
  <arg name="csvFilesStoringTime" default="0.1" />

  <!-- model files -->
  <env name="GAZEBO_MODEL_PATH" value="${GAZEBO_MODEL_PATH}:$(find rotors_gazebo)/models"/>
  <env name="GAZEBO_RESOURCE_PATH" value="${GAZEBO_RESOURCE_PATH}:$(find rotors_gazebo)/models"/>

  <!-- gazebo world -->  
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find rotors_gazebo)/worlds/basic_crazyflie.world" />
    <arg name="paused" value="false"/>
  </include>

  <!-- ############# launch individual players: intruder I0 ###########-->  
  <include file="$(find mdmi_game)/launch/individual_player.launch"> 
    <!-- player settings, change here-->
    <!-- <arg name="param_file" value="$(find mdmi_game)/param/I0.yaml"/> -->
    <arg name="role" value="I"/>
    <arg name="id" value="0"/>
    <arg name="node_file" value="Intruder.py"/>
    <arg name="vmax" value="$(arg vi)" />
    <arg name="Rt" value="$(arg Rt)" />
    <arg name="Ro" value="$(arg Ro)" />
    <arg name="x" value="$(arg xi_0)"  />
    <arg name="y" value="$(arg yi_0)"  />
    <!-- environment settings, same for all players-->
    <arg name="r" value="$(arg r)"/>
    <arg name="ni" value="$(arg ni)"  />
    <arg name="nd" value="$(arg nd)"  />  
    <!-- data saving settings, same for all players-->
    <arg name="res_id" value="$(arg res_id)"/>
    <arg name="user_account" value="$(arg user_account)" />
    <arg name="csvFilesStoring" value="$(arg csvFilesStoring)" />
    <arg name="csvFilesStoringTime" value="$(arg csvFilesStoringTime)" />
  </include>

  <!-- ############# launch individual players: intruder I1 ###########-->  
  <include file="$(find mdmi_game)/launch/individual_player.launch"> 
    <!-- player settings, change here-->
    <!-- <arg name="param_file" value="$(find mdmi_game)/param/I1.yaml"/> -->
    <arg name="role" value="I"/>
    <arg name="id" value="1"/>
    <arg name="node_file" value="Intruder.py"/>
    <arg name="vmax" value="$(arg vi)" />
    <arg name="Rt" value="$(arg Rt)" />
    <arg name="Ro" value="$(arg Ro)" />
    <arg name="x" value="$(arg xi_1)"  />
    <arg name="y" value="$(arg yi_1)"  />
    <!-- environment settings, same for all players-->
    <arg name="r" value="$(arg r)"/>
    <arg name="ni" value="$(arg ni)"  />
    <arg name="nd" value="$(arg nd)"  />  
    <!-- data saving settings, same for all players-->
    <arg name="res_id" value="$(arg res_id)"/>
    <arg name="user_account" value="$(arg user_account)" />
    <arg name="csvFilesStoring" value="$(arg csvFilesStoring)" />
    <arg name="csvFilesStoringTime" value="$(arg csvFilesStoringTime)" />
  </include>

  <!-- ############# launch individual players: intruder I2 ###########-->  
  <include file="$(find mdmi_game)/launch/individual_player.launch"> 
    <!-- player settings, change here-->
    <!-- <arg name="param_file" value="$(find mdmi_game)/param/I2.yaml"/> -->
    <arg name="role" value="I"/>
    <arg name="id" value="2"/>
    <arg name="node_file" value="Intruder.py"/>
    <arg name="vmax" value="$(arg vi)" />
    <arg name="Rt" value="$(arg Rt)" />
    <arg name="Ro" value="$(arg Ro)" />
    <arg name="x" value="$(arg xi_2)"  />
    <arg name="y" value="$(arg yi_2)"  />
    <!-- environment settings, same for all players-->
    <arg name="r" value="$(arg r)"/>
    <arg name="ni" value="$(arg ni)"  />
    <arg name="nd" value="$(arg nd)"  />  
    <!-- data saving settings, same for all players-->
    <arg name="res_id" value="$(arg res_id)"/> 
    <arg name="user_account" value="$(arg user_account)" />
    <arg name="csvFilesStoring" value="$(arg csvFilesStoring)" />
    <arg name="csvFilesStoringTime" value="$(arg csvFilesStoringTime)" />
  </include>

  <!-- ############# launch individual players: intruder D0 ###########-->  
  <include file="$(find mdmi_game)/launch/individual_player.launch"> 
    <!-- player settings, change here-->
    <!-- <arg name="param_file" value="$(find mdmi_game)/param/D0.yaml"/> -->
    <arg name="role" value="D"/>
    <arg name="id" value="0"/>
    <arg name="node_file" value="Defender.py"/>
    <arg name="vmax" value="$(arg vd)" />
    <arg name="Rt" value="$(arg Rt)" />
    <arg name="Ro" value="$(arg Ro)" />
    <arg name="x" value="$(arg xd_0)"  />
    <arg name="y" value="$(arg yd_0)"  />
    <!-- environment settings, same for all players-->
    <arg name="r" value="$(arg r)"/>
    <arg name="ni" value="$(arg ni)"  />
    <arg name="nd" value="$(arg nd)"  />  
    <!-- data saving settings, same for all players-->
    <arg name="res_id" value="$(arg res_id)"/> 
    <arg name="user_account" value="$(arg user_account)" />
    <arg name="csvFilesStoring" value="$(arg csvFilesStoring)" />
    <arg name="csvFilesStoringTime" value="$(arg csvFilesStoringTime)" />
  </include>

  <!-- ############# launch individual players: intruder D1 ###########-->  
  <include file="$(find mdmi_game)/launch/individual_player.launch"> 
    <!-- player settings, change here-->
    <!-- <arg name="param_file" value="$(find mdmi_game)/param/D1.yaml"/> -->
    <arg name="role" value="D"/>
    <arg name="id" value="1"/>    
    <arg name="node_file" value="Defender.py"/>
    <arg name="vmax" value="$(arg vd)" />
    <arg name="Rt" value="$(arg Rt)" />
    <arg name="Ro" value="$(arg Ro)" />
    <arg name="x" value="$(arg xd_1)"  />
    <arg name="y" value="$(arg yd_1)"  />
    <!-- environment settings, same for all players-->
    <arg name="r" value="$(arg r)"/>
    <arg name="ni" value="$(arg ni)"  />
    <arg name="nd" value="$(arg nd)"  />  
    <!-- data saving settings, same for all players-->
    <arg name="res_id" value="$(arg res_id)"/> 
    <arg name="user_account" value="$(arg user_account)" />
    <arg name="csvFilesStoring" value="$(arg csvFilesStoring)" />
    <arg name="csvFilesStoringTime" value="$(arg csvFilesStoringTime)" />
  </include>

  <!-- environment -->
  <node name="environment" pkg="mdmi_game" type="env.py" output="screen">
    <param name="ni" value="$(arg ni)"  />
    <param name="nd" value="$(arg nd)"  />  
  </node>   

</launch>
